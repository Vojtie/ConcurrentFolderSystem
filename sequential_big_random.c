#include "sequential_big_random.h"
#include "Tree.h"
#include <assert.h>
#include <errno.h>

int f(int err) {
    if (-20 <= err && err <= -1) return -1;
    return err;
}

void sequential_big_random() {
    Tree *tree = tree_new();
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);

    assert(f(tree_move(tree, "/c/b/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/")) == ENOENT);

    assert(f(tree_move(tree, "/b/c/a/c/", "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/a/", "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/", "/c/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/b/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/c/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/a/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/b/", "/c/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/", "/b/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);

    assert(f(tree_move(tree, "/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/c/", "/b/a/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/a/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/")) == -1);
    assert(f(tree_move(tree, "/a/b/b/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/c/", "/a/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/b/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/b/b/")) == -1);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/b/a/", "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_move(tree, "/a/b/", "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_remove(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/a/")) == 0);
    assert(f(tree_move(tree, "/a/c/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/c/b/", "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/c/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/a/", "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/b/", "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/b/c/c/")) == -1);
    assert(f(tree_move(tree, "/b/b/", "/b/b/c/b/")) == -1);
    assert(f(tree_move(tree, "/a/c/c/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/a/b/b/")) == -1);
    assert(f(tree_create(tree, "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/a/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/b/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/a/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/b/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/c/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/b/c/b/")) == -1);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/b/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/a/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/", "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/a/", "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/b/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/", "/c/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/c/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/c/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/c/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/", "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/c/b/a/")) == -1);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/a/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/c/c/b/")) == -1);
    assert(f(tree_move(tree, "/", "/a/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/a/", "/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/b/", "/c/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/c/", "/b/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/a/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/c/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/a/c/c/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/c/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/a/c/c/")) == -1);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/a/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/b/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/a/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/c/", "/b/a/c/a/")) == -1);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/b/", "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/b/", "/b/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/b/c/a/")) == -1);
    assert(f(tree_move(tree, "/b/b/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/b/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/c/b/", "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/a/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/", "/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/", "/b/a/c/")) == -1);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/b/b/a/a/")) == -1);
    assert(f(tree_move(tree, "/a/c/a/", "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/c/", "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/b/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/c/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/b/", "/c/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/a/", "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/b/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/c/", "/a/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/b/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/a/", "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/c/", "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/a/", "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/b/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/a/a/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/b/a/b/", "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/c/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/a/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/a/c/", "/a/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/b/", "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/a/a/a/")) == -1);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/c/a/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/c/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/b/", "/a/a/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/a/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/b/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/a/a/")) == -1);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/b/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/b/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/b/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/b/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/c/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/a/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/a/a/a/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/b/", "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/b/b/")) == -1);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/a/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/", "/b/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/", "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/a/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/c/", "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/b/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/c/a/c/", "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/a/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/b/", "/c/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/", "/b/c/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/c/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/", "/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/", "/b/c/b/")) == -1);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/c/c/a/")) == -1);
    assert(f(tree_move(tree, "/b/c/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/c/b/b/c/")) == -1);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/", "/a/c/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/c/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/", "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/c/b/a/")) == -1);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/b/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/", "/c/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/a/a/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/c/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/c/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/a/")) == -1);
    assert(f(tree_move(tree, "/b/a/a/c/", "/a/c/a/c/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/c/")) == -1);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/c/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/a/", "/c/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/a/c/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/a/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/c/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/c/", "/a/c/c/b/")) == -1);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/a/", "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/", "/b/b/a/c/")) == -1);
    assert(f(tree_remove(tree, "/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/b/c/a/")) == -1);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/c/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/", "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/a/a/a/")) == -1);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/a/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/b/", "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/a/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_move(tree, "/a/", "/a/b/a/")) == -1);
    assert(f(tree_move(tree, "/b/a/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/b/c/")) == -1);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/b/a/", "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/b/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/b/c/b/")) == -1);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/c/b/c/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/c/", "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/", "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/a/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/b/", "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/b/b/b/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/c/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/b/", "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/b/b/")) == -1);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/a/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/b/a/a/b/")) == -1);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/c/", "/b/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/c/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/c/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/b/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/c/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/", "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/c/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/a/", "/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/", "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/", "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/", "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/c/b/")) == -1);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/b/b/", "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/c/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/a/a/c/")) == -1);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/a/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/b/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/a/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/", "/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/b/c/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/", "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/a/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/a/b/b/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/b/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/", "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/b/a/b/")) == -1);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/c/", "/a/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/b/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/b/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/c/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/", "/a/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/a/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/", "/c/b/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/a/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/b/b/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_move(tree, "/c/c/a/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/c/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/", "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/a/b/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/a/a/")) == -1);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/b/b/c/")) == -1);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/a/", "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/b/c/", "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/c/c/")) == -1);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/", "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/c/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/b/a/")) == -1);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/b/", "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/a/", "/c/b/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/b/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/c/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/b/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/a/", "/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/a/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_create(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/", "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/a/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/c/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/b/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/c/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/b/b/c/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/c/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/c/b/a/")) == -1);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/a/b/c/")) == -1);
    assert(f(tree_move(tree, "/b/a/", "/c/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/a/", "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/b/")) == -1);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/a/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/c/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/a/a/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/b/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/b/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/c/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/a/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/b/", "/a/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/c/a/c/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/c/", "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/", "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/c/c/")) == -1);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/c/b/a/")) == -1);
    assert(f(tree_move(tree, "/c/c/b/", "/c/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/b/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/a/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/c/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/a/b/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/c/c/a/")) == -1);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/a/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/c/c/c/")) == -1);
    assert(f(tree_create(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/a/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/c/", "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/c/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/", "/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/b/b/a/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/c/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/c/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/a/c/")) == -1);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/", "/b/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/b/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/b/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/b/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/b/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/a/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/c/b/c/")) == -1);
    assert(f(tree_move(tree, "/c/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/c/", "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/c/a/")) == -1);
    assert(f(tree_move(tree, "/", "/c/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/b/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/b/", "/a/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/a/")) == -1);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/a/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/c/", "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/b/", "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/b/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/b/c/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/c/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/b/a/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/c/b/")) == -1);
    assert(f(tree_move(tree, "/c/", "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/c/c/c/a/")) == -1);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/c/a/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/b/a/")) == -1);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/c/c/")) == -1);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/c/b/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/a/c/a/")) == -1);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/c/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/a/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/b/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/", "/a/a/b/a/")) == -1);
    assert(f(tree_move(tree, "/c/", "/c/c/c/")) == -1);
    assert(f(tree_move(tree, "/a/c/b/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/c/", "/c/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/b/c/")) == -1);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/a/c/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/a/", "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/a/b/b/")) == -1);
    assert(f(tree_move(tree, "/a/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/a/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/b/b/c/")) == -1);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/c/b/c/")) == -1);
    assert(f(tree_create(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/a/")) == -1);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/a/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/c/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/c/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/c/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/a/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/a/a/")) == -1);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/a/", "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/a/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/c/c/")) == -1);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/b/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/b/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/c/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/c/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/b/b/c/")) == -1);
    assert(f(tree_create(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/c/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/c/", "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/", "/a/b/b/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/b/c/a/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/c/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/a/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/a/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/b/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/a/b/c/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/b/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/c/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/", "/b/c/a/a/")) == -1);
    assert(f(tree_remove(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/b/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/b/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/b/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/a/b/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/a/", "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/c/", "/b/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/c/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/c/", "/b/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/", "/c/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/c/c/c/")) == -1);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/c/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/b/", "/c/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/c/", "/b/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/a/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/b/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/a/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/a/b/")) == -1);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/c/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/", "/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/a/a/")) == -1);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/c/", "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/c/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/c/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/c/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/", "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/b/", "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_move(tree, "/c/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/c/a/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/b/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/a/")) == -1);
    assert(f(tree_move(tree, "/c/b/a/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/b/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/a/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/c/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/c/b/b/")) == -1);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/a/")) == -1);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/a/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/a/", "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/a/c/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/a/b/b/")) == -1);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/c/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/", "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/a/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/b/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/a/", "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/", "/a/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/b/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/a/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/a/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/a/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/c/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/c/c/b/")) == -1);
    assert(f(tree_move(tree, "/c/b/a/b/", "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/b/")) == -1);
    assert(f(tree_create(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/b/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/c/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/", "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/b/b/")) == -1);
    assert(f(tree_create(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/c/b/a/c/")) == -1);
    assert(f(tree_move(tree, "/c/b/a/", "/b/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/c/c/", "/a/a/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/a/c/c/")) == -1);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/a/", "/c/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/a/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/a/", "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/a/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/b/b/")) == -1);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/a/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/a/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/b/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/b/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/", "/b/c/a/")) == -1);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/b/", "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/c/", "/b/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/c/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/c/b/b/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/", "/a/a/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/b/b/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/c/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/c/b/", "/a/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/c/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/c/b/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/c/b/b/")) == -1);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/", "/b/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/c/a/c/")) == -1);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/c/c/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/c/a/", "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/b/", "/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/", "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/a/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/a/c/b/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/a/a/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/", "/a/b/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/b/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/b/b/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/c/", "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/b/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/c/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/b/", "/c/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/a/", "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/b/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/a/", "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/a/", "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/b/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/c/b/", "/a/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/a/a/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/b/", "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/c/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/", "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/a/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/a/c/", "/a/c/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/b/", "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/a/a/a/")) == -1);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/a/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/a/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/c/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/b/", "/a/a/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/a/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/b/", "/c/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/a/a/")) == -1);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/", "/b/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/b/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/b/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/b/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/c/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/a/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/a/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/a/a/a/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/b/", "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/b/b/")) == -1);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/a/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/", "/b/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/", "/b/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/a/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/c/", "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/b/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/c/a/c/", "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/a/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/b/", "/c/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/", "/b/c/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/c/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/", "/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/", "/b/c/b/")) == -1);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/c/c/a/")) == -1);
    assert(f(tree_move(tree, "/b/c/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/c/b/b/c/")) == -1);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/", "/a/c/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/a/a/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/c/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/", "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/b/c/b/a/")) == -1);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/b/b/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/", "/c/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/a/a/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/c/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/c/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/a/")) == -1);
    assert(f(tree_move(tree, "/b/a/a/c/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/", "/b/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/c/")) == -1);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/c/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/a/", "/c/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/a/c/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/a/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/c/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/c/", "/a/c/c/b/")) == -1);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/a/", "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/", "/b/b/a/c/")) == -1);
    assert(f(tree_remove(tree, "/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/b/c/a/")) == -1);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/c/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/", "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/a/a/a/")) == -1);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/a/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/b/", "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/a/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_move(tree, "/a/", "/a/b/a/")) == -1);
    assert(f(tree_move(tree, "/b/a/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/b/c/")) == -1);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/b/a/", "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/b/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/b/c/b/")) == -1);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/c/b/c/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/b/", "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/c/", "/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/", "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/a/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/b/", "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/b/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/b/b/b/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/b/", "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/b/b/")) == -1);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/a/")) == 0);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/a/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/b/a/a/b/")) == -1);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/c/", "/b/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/c/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/c/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/b/b/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/c/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/", "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/c/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/a/", "/b/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/", "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/", "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/b/", "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/b/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/c/b/")) == -1);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/b/", "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/b/b/", "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/c/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/a/a/c/")) == -1);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/a/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/b/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/a/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/", "/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/b/c/", "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/", "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/a/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/a/b/b/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/b/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/", "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/", "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/b/a/b/")) == -1);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/c/", "/a/a/")) == 0);
    assert(f(tree_move(tree, "/", "/c/b/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/b/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/c/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/", "/a/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/a/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/", "/c/b/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/a/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/b/b/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_move(tree, "/c/c/a/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/c/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/", "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/a/b/c/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/a/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/a/a/")) == -1);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/a/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/b/b/c/")) == -1);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/a/", "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/b/c/", "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/c/c/")) == -1);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/", "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/c/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/b/a/")) == -1);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/", "/b/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/b/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/a/", "/c/b/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/b/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/c/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/c/")) == 0);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/b/", "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/a/", "/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/a/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/c/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/a/", "/a/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/b/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/a/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == 0);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_create(tree, "/c/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/", "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/a/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/c/a/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/b/b/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/b/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/c/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/b/")) == -1);
    assert(f(tree_move(tree, "/", "/c/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/c/b/b/c/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/c/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/", "/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/b/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/c/b/a/")) == -1);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/a/", "/a/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/", "/c/a/b/c/")) == -1);
    assert(f(tree_move(tree, "/b/a/", "/c/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/c/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/a/", "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/a/", "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/b/c/b/")) == -1);
    assert(f(tree_remove(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/b/c/")) == 0);
    assert(f(tree_move(tree, "/b/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/")) == 0);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/a/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/", "/c/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/c/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/a/a/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/b/b/b/a/")) == 0);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/b/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/c/", "/c/a/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/a/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/b/b/", "/a/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/c/c/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/c/a/c/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/c/", "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/", "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/a/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/a/", "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/c/c/")) == -1);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/a/c/b/a/")) == -1);
    assert(f(tree_move(tree, "/c/c/b/", "/c/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/b/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_move(tree, "/a/b/b/a/", "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/c/c/a/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/a/b/", "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/c/c/a/")) == -1);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/a/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/c/c/c/")) == -1);
    assert(f(tree_create(tree, "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/c/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/a/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/a/", "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/c/", "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/", "/c/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/c/", "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/c/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/", "/b/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/b/b/a/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/a/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/", "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/a/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/c/c/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/c/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/c/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/", "/c/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/c/a/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/c/a/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/b/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/a/c/")) == -1);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/", "/b/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/b/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/c/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/c/", "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/", "/c/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/c/b/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/")) == 0);
    assert(f(tree_move(tree, "/c/", "/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/c/a/b/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_move(tree, "/b/b/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/b/b/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/b/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/c/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/b/a/", "/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/c/b/c/")) == -1);
    assert(f(tree_move(tree, "/c/c/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/", "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/b/", "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/", "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/c/c/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/c/", "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/b/b/", "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/c/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/", "/b/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/c/a/")) == -1);
    assert(f(tree_move(tree, "/", "/c/a/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/a/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/b/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/", "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/b/", "/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/a/c/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/b/", "/a/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/a/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/c/c/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/c/a/")) == -1);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/b/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/a/b/c/a/")) == 0);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/c/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/b/c/", "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/")) == 0);
    assert(f(tree_move(tree, "/a/a/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/b/", "/c/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/a/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/a/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/b/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/b/c/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/b/c/c/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/", "/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/b/a/b/", "/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/c/b/")) == -1);
    assert(f(tree_move(tree, "/c/", "/b/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/a/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/c/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/a/a/")) == 0);
    assert(f(tree_move(tree, "/c/b/a/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/a/", "/a/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/", "/c/c/c/a/")) == -1);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/b/a/c/a/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/b/a/")) == -1);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/c/c/")) == -1);
    assert(f(tree_remove(tree, "/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/c/b/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/c/c/", "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/b/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/", "/a/c/a/")) == -1);
    assert(f(tree_move(tree, "/c/b/c/a/", "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/b/c/", "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/c/", "/a/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/c/b/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/b/b/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/c/", "/c/c/")) == 0);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/a/a/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/b/", "/a/a/b/a/")) == -1);
    assert(f(tree_move(tree, "/c/", "/c/c/c/")) == -1);
    assert(f(tree_move(tree, "/a/c/b/a/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/c/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/", "/a/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/a/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/", "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/a/b/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/c/", "/c/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/a/b/c/")) == -1);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/c/c/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/c/a/c/c/")) == 0);
    assert(f(tree_move(tree, "/b/c/b/", "/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/b/a/", "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/b/a/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/a/")) == 0);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/a/")) == 0);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/a/c/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/a/")) == 0);
    assert(f(tree_remove(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/c/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/a/", "/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/a/", "/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/c/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/", "/a/a/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/c/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/b/", "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/", "/c/c/c/")) == 0);
    assert(f(tree_move(tree, "/a/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/a/c/c/", "/b/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/a/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/a/", "/b/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/", "/b/a/b/b/")) == -1);
    assert(f(tree_move(tree, "/a/b/c/", "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/a/c/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/a/", "/c/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/c/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/a/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/a/")) == EBUSY);
    assert(f(tree_move(tree, "/a/", "/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/", "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/c/b/b/c/")) == -1);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/a/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/", "/c/b/c/")) == -1);
    assert(f(tree_create(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/b/c/")) == 0);
    assert(f(tree_remove(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/c/a/")) == -1);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/a/c/a/")) == EBUSY);
    assert(f(tree_move(tree, "/c/b/b/b/", "/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/b/b/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/c/")) == 0);
    assert(f(tree_move(tree, "/a/c/a/", "/c/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == 0);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/", "/c/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/a/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/a/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/a/", "/a/")) == 0);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/", "/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/c/", "/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/a/a/", "/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/", "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/b/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/b/a/", "/a/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/")) == 0);
    assert(f(tree_create(tree, "/a/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/c/", "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/", "/c/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/c/", "/a/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/a/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/b/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/b/", "/c/c/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/c/")) == -1);
    assert(f(tree_move(tree, "/", "/a/a/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/b/a/a/", "/c/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/b/")) == EBUSY);
    assert(f(tree_move(tree, "/b/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/a/c/a/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/", "/c/a/a/")) == -1);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/a/", "/a/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/b/", "/b/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/c/b/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/b/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/b/a/", "/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/a/a/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/c/c/")) == -1);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/a/c/", "/a/b/b/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/", "/c/b/")) == -1);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/b/")) == 0);
    assert(f(tree_move(tree, "/b/c/", "/a/c/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/a/a/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/b/a/b/", "/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/", "/a/")) == 0);
    assert(f(tree_create(tree, "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/c/c/", "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/c/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/c/a/b/", "/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == 0);
    assert(f(tree_create(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/b/c/")) == 0);
    assert(f(tree_create(tree, "/b/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/c/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/c/b/c/c/", "/a/a/")) == 0);
    assert(f(tree_remove(tree, "/c/a/c/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/")) == EEXIST);
    assert(f(tree_move(tree, "/c/b/a/", "/b/c/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/b/")) == 0);
    assert(f(tree_move(tree, "/a/b/", "/a/c/c/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/b/c/b/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/c/")) == -1);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/a/")) == 0);
    assert(f(tree_create(tree, "/c/b/a/b/")) == 0);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/a/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/a/b/", "/c/")) == EEXIST);
    assert(f(tree_move(tree, "/a/c/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/b/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == 0);
    assert(f(tree_create(tree, "/a/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/b/b/")) == 0);
    assert(f(tree_move(tree, "/a/", "/a/b/b/c/")) == -1);
    assert(f(tree_create(tree, "/a/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/b/")) == 0);
    assert(f(tree_remove(tree, "/a/b/b/")) == 0);
    assert(f(tree_create(tree, "/b/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/b/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/", "/b/b/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_create(tree, "/a/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/c/b/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/a/b/a/c/", "/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/c/c/", "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/a/c/")) == 0);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/c/c/", "/c/b/c/")) == EEXIST);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/", "/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/a/b/", "/a/b/b/")) == -1);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/c/c/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/b/")) == 0);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/")) == EBUSY);
    assert(f(tree_move(tree, "/a/b/", "/b/b/")) == ENOENT);
    assert(f(tree_move(tree, "/a/a/c/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/c/", "/a/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/a/a/a/")) == ENOENT);
    assert(f(tree_create(tree, "/b/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_create(tree, "/b/c/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/", "/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/a/c/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/")) == EEXIST);
    assert(f(tree_move(tree, "/a/", "/")) == EEXIST);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_move(tree, "/", "/a/a/c/")) == EBUSY);
    assert(f(tree_create(tree, "/c/b/")) == EEXIST);
    assert(f(tree_create(tree, "/c/b/a/")) == EEXIST);
    assert(f(tree_move(tree, "/c/c/", "/b/c/a/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/b/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_move(tree, "/b/b/a/c/", "/c/c/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/c/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/b/c/", "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/", "/b/a/b/")) == EBUSY);
    assert(f(tree_remove(tree, "/c/a/c/b/")) == ENOTEMPTY);
    assert(f(tree_move(tree, "/c/a/b/", "/a/b/c/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/c/c/a/b/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/b/b/b/")) == EBUSY);
    assert(f(tree_create(tree, "/b/a/")) == EEXIST);
    assert(f(tree_create(tree, "/b/a/a/")) == 0);
    assert(f(tree_remove(tree, "/a/c/a/a/")) == ENOENT);
    assert(f(tree_move(tree, "/b/", "/b/")) == 0);
    assert(f(tree_create(tree, "/b/")) == EEXIST);
    assert(f(tree_remove(tree, "/a/b/a/a/")) == ENOENT);
    assert(f(tree_remove(tree, "/b/b/a/")) == ENOENT);
    assert(f(tree_create(tree, "/c/c/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/a/c/c/c/")) == 0);
    assert(f(tree_remove(tree, "/b/b/c/a/")) == ENOENT);
    assert(f(tree_move(tree, "/", "/c/")) == EBUSY);
    assert(f(tree_remove(tree, "/a/")) == ENOTEMPTY);
    assert(f(tree_remove(tree, "/a/a/")) == 0);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/b/")) == ENOENT);
    assert(f(tree_create(tree, "/c/a/")) == EEXIST);
    assert(f(tree_remove(tree, "/b/a/")) == ENOTEMPTY);
    assert(f(tree_create(tree, "/a/b/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/c/a/b/", "/c/")) == ENOENT);
    assert(f(tree_create(tree, "/a/")) == EEXIST);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_create(tree, "/c/c/c/")) == 0);
    assert(f(tree_create(tree, "/c/a/a/c/")) == ENOENT);
    assert(f(tree_create(tree, "/")) == EEXIST);
    assert(f(tree_move(tree, "/b/c/b/", "/b/b/b/a/")) == ENOENT);

    tree_free(tree);
}
